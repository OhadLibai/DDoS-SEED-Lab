# HTTP/2 Multi-Worker Victim Server  
FROM python:3.9-slim
WORKDIR /app
COPY ../shared/victim_app.py .
COPY ../shared/scenarios/ ./scenarios/
COPY ../shared/requirements.txt .
RUN pip install -r requirements.txt

# Multi-worker HTTP/2 server for production-like performance
CMD ["hypercorn", "victim_app:app", "--bind", "0.0.0.0:80", "--workers", "4", "--worker-class", "asyncio"]